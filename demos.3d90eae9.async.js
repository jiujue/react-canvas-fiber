"use strict";(self.webpackChunkreact_canvas_fiber_docs=self.webpackChunkreact_canvas_fiber_docs||[]).push([[2433],{43291:function(pe,D,s){s.r(D),s.d(D,{default:function(){return X}});var Y=s(86222),G=s.n(Y),$=s(45332),d=s.n($),r=s(9715),l=s(44194),f=s(38949),e=s(31549);function E(h,_,u){return Number.isFinite(h)?Math.max(_,Math.min(u,Math.trunc(h))):_}function X(){var h=(0,l.useState)(!0),_=d()(h,2),u=_[0],p=_[1],J=(0,l.useState)(120),B=d()(J,2),I=B[0],M=B[1],Q=(0,l.useState)(4),k=d()(Q,2),R=k[0],A=k[1],Z=(0,l.useState)(120),O=d()(Z,2),b=O[0],q=O[1],ee=(0,l.useState)(4),z=d()(ee,2),m=z[0],te=z[1],ne=(0,l.useState)(null),F=d()(ne,2),v=F[0],y=F[1],re=(0,l.useState)(new Set),P=d()(re,2),j=P[0],N=P[1],ae=(0,l.useState)("dark"),V=d()(ae,2),W=V[0],oe=V[1],le=(0,l.useState)(0),K=d()(le,2),T=K[0],ie=K[1],x=(0,l.useMemo)(function(){return(0,f.buildTree)(b,m,T)},[T,b,m]);(0,l.useEffect)(function(){var a=new Set,t=G()(x),o;try{for(t.s();!(o=t.n()).done;){var c=o.value;a.add(c.id)}}catch(i){t.e(i)}finally{t.f()}N(a),y(function(i){if(!i)return i;var C=(0,f.flattenTree)(x,a).some(function(w){return w.node.id===i});return C?i:null})},[x]);var g=(0,l.useMemo)(function(){return(0,f.flattenTree)(x,j)},[x,j]),S=(0,l.useMemo)(function(){var a,t;return(a=(t=g.find(function(o){return o.node.id===v}))===null||t===void 0?void 0:t.node)!==null&&a!==void 0?a:null},[g,v]),se=function(t){N(function(o){var c=new Set(o);return c.has(t)?c.delete(t):c.add(t),c})},ue=function(t){y(t),p(!1)},n=f.themes[W],L=560,U=340,ce=typeof window!="undefined"&&window.devicePixelRatio||1,de="".concat(b,"-").concat(m,"-").concat(T),H=function(){return typeof performance!="undefined"?performance.now():Date.now()},_e=u?H():0,xe=u?g.map(function(a){var t=a.node,o=a.depth,c=j.has(t.id),i=t.children.length>0,C=t.id===v;return(0,e.jsxs)(r.View,{onClick:function(){return ue(t.id)},style:{height:48,paddingHorizontal:10,flexDirection:"row",alignItems:"center",gap:8},background:C?n.rowActive:n.rowBg,borderRadius:9,children:[(0,e.jsx)(r.View,{style:{width:12+o*10,height:1}}),(0,e.jsx)(r.Text,{text:i?c?"\u25BE":"\u25B8":"\u2022",onClick:function(he){he.stopPropagation(),i&&se(t.id)},style:{fontSize:30,width:20},color:i?n.iconText:n.iconMuted}),(0,e.jsxs)(r.View,{style:{flexDirection:"column",gap:3,flexGrow:1},children:[(0,e.jsxs)(r.View,{style:{flexDirection:"row",gap:6,alignItems:"center"},children:[(0,e.jsx)(r.Text,{text:t.label,style:{fontSize:13,fontWeight:700},color:n.titleText}),(0,e.jsx)(r.View,{style:{height:18,paddingHorizontal:6,alignItems:"center",justifyContent:"center"},background:n.tagBg,borderRadius:5,children:(0,e.jsx)(r.Text,{text:t.type,style:{fontSize:10},color:n.tagText})}),(0,e.jsx)(r.Text,{text:t.code,style:{fontSize:10},color:n.codeText})]}),(0,e.jsxs)(r.View,{style:{flexDirection:"row",gap:6,alignItems:"center"},children:[(0,e.jsx)(r.Text,{text:"\u8D1F\u8D23\u4EBA \xB7 ".concat(t.owner),style:{fontSize:10},color:n.labelText}),(0,e.jsx)(r.View,{style:{height:16,paddingHorizontal:6,alignItems:"center",justifyContent:"center"},background:n.countBg,borderRadius:5,children:(0,e.jsx)(r.Text,{text:"\u6307\u6807 ".concat(t.count),style:{fontSize:10},color:n.countText})})]})]}),(0,e.jsx)(r.View,{style:{width:70,alignItems:"flex-end"},children:(0,e.jsx)(r.Text,{text:i?"".concat(t.children.length," \u5B50\u7EA7"):"\u53F6\u5B50\u8282\u70B9",style:{fontSize:10},color:n.metaText})})]},t.id)}):[],fe=u?H()-_e:0;return(0,e.jsx)("div",{style:{fontFamily:"system-ui",maxWidth:1180},children:(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[(0,e.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8,alignItems:"center"},children:[(0,e.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12},children:["\u603B\u6761\u6570",(0,e.jsx)("input",{type:"number",min:1,value:I,onChange:function(t){var o=Number(t.target.value);Number.isFinite(o)&&M(o)},style:{width:90}})]}),(0,e.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12},children:["\u6DF1\u5EA6",(0,e.jsx)("input",{type:"number",min:1,max:32,value:R,onChange:function(t){var o=Number(t.target.value);Number.isFinite(o)&&A(o)},style:{width:70}})]}),(0,e.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12},children:["\u4E3B\u9898",(0,e.jsxs)("select",{value:W,onChange:function(t){return oe(t.target.value)},style:{height:28},children:[(0,e.jsx)("option",{value:"dark",children:"Dark"}),(0,e.jsx)("option",{value:"light",children:"Light"})]})]}),(0,e.jsx)("button",{type:"button",onClick:function(){var t=E(I,1,Number.MAX_SAFE_INTEGER),o=E(R,1,32);M(t),A(o),q(t),te(o),ie(function(c){return c+1}),p(!0)},style:{padding:"5px 10px",borderRadius:7,border:"1px solid rgba(0,0,0,0.15)",background:n.buttonBg,color:n.buttonText,cursor:"pointer"},children:"\u751F\u6210\u6570\u636E"}),(0,e.jsx)("button",{type:"button",onClick:function(){return p(function(t){return!t})},style:{padding:"5px 10px",borderRadius:7,border:"1px solid rgba(0,0,0,0.15)",background:u?"#111827":n.buttonBg,color:u?"#ffffff":n.buttonText,cursor:"pointer"},children:u?"\u6536\u8D77\u4E0B\u62C9":"\u5C55\u5F00\u4E0B\u62C9"})]}),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[(0,e.jsx)("label",{style:{fontSize:12,color:"rgba(17,24,39,0.75)"},children:"Tree Select"}),(0,e.jsxs)("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,e.jsx)("input",{readOnly:!0,value:S?"".concat(S.label," \xB7 ").concat(S.code):"",placeholder:"\u8BF7\u9009\u62E9\u4E00\u4E2A\u8282\u70B9",onClick:function(){return p(function(t){return!t})},style:{flex:1,height:34,padding:"0 10px",borderRadius:8,border:"1px solid rgba(0,0,0,0.2)",background:n.inputBg,color:n.inputText,boxShadow:u?"0 0 0 2px rgba(59,130,246,0.18)":"none"}}),(0,e.jsx)("button",{type:"button",onClick:function(){return y(null)},style:{padding:"5px 10px",borderRadius:7,border:"1px solid rgba(0,0,0,0.15)",background:n.buttonBg,color:n.buttonText,cursor:"pointer"},children:"\u6E05\u7A7A"})]})]}),u?(0,e.jsx)("div",{style:{display:"flex",gap:12,alignItems:"flex-start"},children:(0,e.jsx)(r.Canvas,{width:L,height:U,dpr:ce,clearColor:n.canvasBg,fontFamily:"system-ui",style:{borderRadius:12,border:"1px solid rgba(0,0,0,0.12)"},children:(0,e.jsxs)(r.View,{scrollY:!0,scrollbarY:!0,style:{width:L,height:U,padding:12,flexDirection:"column",gap:8},children:[(0,e.jsxs)(r.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,e.jsx)(r.Text,{text:"Canvas Tree \u4E0B\u62C9",style:{fontSize:15,fontWeight:700},color:n.titleText}),(0,e.jsx)(r.Text,{text:"\u8282\u70B9 ".concat(g.length," / ").concat(b," \xB7 build ").concat(fe.toFixed(2),"ms"),style:{fontSize:11},color:n.metaText})]}),(0,e.jsx)(r.View,{scrollY:!0,scrollbarY:!0,scrollbarWidth:10,scrollbarInset:6,scrollbarTrackColor:n.scrollbarTrack,scrollbarThumbColor:n.scrollbarThumb,style:{flexGrow:1,padding:8,flexDirection:"column",gap:6},background:n.panelBg,borderRadius:9,children:xe}),(0,e.jsxs)(r.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,e.jsx)(r.Text,{text:"\u70B9\u51FB\u8282\u70B9\u9009\u4E2D\uFF0C\u70B9\u51FB\u7BAD\u5934\u5C55\u5F00/\u6536\u8D77",style:{fontSize:10},color:n.metaText}),(0,e.jsx)(r.Text,{text:"\u4E0B\u62C9\u5185\u5BB9\u5B8C\u5168\u7531 Canvas \u6E32\u67D3",style:{fontSize:10},color:n.codeText})]})]})},de)}):null]})})}}}]);
