!(function(){"use strict";var _e=Object.defineProperty,ze=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var ee=(mt,st,J)=>st in mt?_e(mt,st,{enumerable:!0,configurable:!0,writable:!0,value:J}):mt[st]=J,Tt=(mt,st)=>{for(var J in st||(st={}))Ae.call(st,J)&&ee(mt,J,st[J]);if(te)for(var J of te(st))Ve.call(st,J)&&ee(mt,J,st[J]);return mt},Ft=(mt,st)=>ze(mt,Oe(st));var Nt=(mt,st,J)=>new Promise((tt,F)=>{var Xt=Ct=>{try{kt(J.next(Ct))}catch(Wt){F(Wt)}},Et=Ct=>{try{kt(J.throw(Ct))}catch(Wt){F(Wt)}},kt=Ct=>Ct.done?tt(Ct.value):Promise.resolve(Ct.value).then(Xt,Et);kt((J=J.apply(mt,st)).next())});(self.webpackChunkreact_canvas_fiber_docs=self.webpackChunkreact_canvas_fiber_docs||[]).push([[9715],{9715:function(mt,st,J){J.r(st),J.d(st,{Canvas:function(){return Le},Circle:function(){return Xe},Group:function(){return He},Image:function(){return Ye},Layer:function(){return Ne},Line:function(){return Be},Path:function(){return Ee},Rect:function(){return Fe},Text:function(){return De},View:function(){return Re}});var tt=J(44194),F=J(12770),Xt=J(41675),Et=J(31549),kt=1;function Ct(){return{type:"Root",debugId:kt++,parent:null,children:[],props:{},layout:{x:0,y:0,width:0,height:0},contentBounds:void 0,yogaNode:null,scrollLeft:0,scrollTop:0,scrollContentWidth:0,scrollContentHeight:0,scrollbarDrag:null}}function Wt(t,e){const n={type:t,debugId:kt++,parent:null,children:[],props:e,layout:{x:0,y:0,width:0,height:0},contentBounds:void 0,yogaNode:null,scrollLeft:0,scrollTop:0,scrollContentWidth:0,scrollContentHeight:0,scrollbarDrag:null};return t==="Image"?n.imageInstance=null:t==="View"||t==="Layer"?n.backgroundImageInstance=null:t==="Path"&&(n.path2d=null,n.pathSource=null),n}function ne(t){var l,s,g,h,u,m,w,y,x,v,S,M,k,R,H,B;const e=(s=(l=t==null?void 0:t.paddingHorizontal)!=null?l:t==null?void 0:t.padding)!=null?s:0,n=(h=(g=t==null?void 0:t.paddingVertical)!=null?g:t==null?void 0:t.padding)!=null?h:0,r=(m=(u=t==null?void 0:t.marginHorizontal)!=null?u:t==null?void 0:t.margin)!=null?m:0,a=(y=(w=t==null?void 0:t.marginVertical)!=null?w:t==null?void 0:t.margin)!=null?y:0;return{paddingTop:(x=t==null?void 0:t.paddingTop)!=null?x:n,paddingRight:(v=t==null?void 0:t.paddingRight)!=null?v:e,paddingBottom:(S=t==null?void 0:t.paddingBottom)!=null?S:n,paddingLeft:(M=t==null?void 0:t.paddingLeft)!=null?M:e,marginTop:(k=t==null?void 0:t.marginTop)!=null?k:a,marginRight:(R=t==null?void 0:t.marginRight)!=null?R:r,marginBottom:(H=t==null?void 0:t.marginBottom)!=null?H:a,marginLeft:(B=t==null?void 0:t.marginLeft)!=null?B:r}}function Ot(t){var n;const e=(n=t.props)==null?void 0:n.d;if(typeof e!="string"||!e.trim())return t.path2d=null,t.pathSource=null,null;if(t.pathSource===e&&t.path2d)return t.path2d;try{const r=new Path2D(e);return t.path2d=r,t.pathSource=e,r}catch(r){return t.path2d=null,t.pathSource=e,null}}var et={a:1,b:0,c:0,d:1,e:0,f:0};function Bt(t,e){return{a:t.a*e.a+t.c*e.b,b:t.b*e.a+t.d*e.b,c:t.a*e.c+t.c*e.d,d:t.b*e.c+t.d*e.d,e:t.a*e.e+t.c*e.f+t.e,f:t.b*e.e+t.d*e.f+t.f}}function re(t){const e=t.a*t.d-t.b*t.c;if(!Number.isFinite(e)||Math.abs(e)<1e-12)return null;const n=1/e;return{a:t.d*n,b:-t.b*n,c:-t.c*n,d:t.a*n,e:(t.c*t.f-t.d*t.e)*n,f:(t.b*t.e-t.a*t.f)*n}}function oe(t,e,n){return{x:t.a*e+t.c*n+t.e,y:t.b*e+t.d*n+t.f}}function Lt(t,e){return{a:1,b:0,c:0,d:1,e:t,f:e}}function Dt(t,e){return{a:t,b:0,c:0,d:e,e:0,f:0}}function ie(t){const e=Math.cos(t),n=Math.sin(t);return{a:e,b:n,c:-n,d:e,e:0,f:0}}function At(t){return{a:1,b:0,c:Math.tan(t),d:1,e:0,f:0}}function Vt(t){return{a:1,b:Math.tan(t),c:0,d:1,e:0,f:0}}function ut(t){const e=t.trim();if(!e)return null;const n=e.endsWith("px")?e.slice(0,-2):e,r=Number.parseFloat(n);return Number.isFinite(r)?r:null}function Rt(t){const e=t.trim();if(!e)return null;if(e.endsWith("deg")){const r=ut(e.slice(0,-3));return r==null?null:r*Math.PI/180}if(e.endsWith("rad")){const r=ut(e.slice(0,-3));return r==null?null:r}if(e.endsWith("turn")){const r=ut(e.slice(0,-4));return r==null?null:r*Math.PI*2}const n=ut(e);return n==null?null:n*Math.PI/180}function le(t){return t.split(/[,|\s]+/g).map(e=>e.trim()).filter(Boolean)}function Kt(t){var l,s,g,h,u,m,w,y,x,v,S,M,k,R,H,B,$,Q,gt,xt,ct,ot,ht,bt,wt,It;if(!t)return et;if(Array.isArray(t)){if(t.length===6&&t.every(q=>typeof q=="number")){const[q,O,G,K,X,j]=t;return{a:q,b:O,c:G,d:K,e:X,f:j}}if(t.length===16&&t.every(q=>typeof q=="number")){const q=t[0],O=t[1],G=t[4],K=t[5],X=t[12],j=t[13];return{a:q,b:O,c:G,d:K,e:X,f:j}}return et}if(typeof t!="string")return et;const e=t.trim();if(!e)return et;const n=/([a-zA-Z0-9]+)\(([^)]*)\)/g;let r=et,a;for(;a=n.exec(e);){const q=a[1],O=le(a[2]||""),G=q.toLowerCase(),K=X=>{r=Bt(r,X)};if(G==="matrix"){const X=O.map(j=>ut(j)).filter(j=>j!=null);if(X.length>=6){const[j,vt,o,d,i,c]=X;K({a:j,b:vt,c:o,d,e:i,f:c})}continue}if(G==="translate"){const X=(s=ut((l=O[0])!=null?l:"0"))!=null?s:0,j=(h=ut((g=O[1])!=null?g:"0"))!=null?h:0;K(Lt(X,j));continue}if(G==="translatex"){const X=(m=ut((u=O[0])!=null?u:"0"))!=null?m:0;K(Lt(X,0));continue}if(G==="translatey"){const X=(y=ut((w=O[0])!=null?w:"0"))!=null?y:0;K(Lt(0,X));continue}if(G==="scale"){const X=(v=ut((x=O[0])!=null?x:"1"))!=null?v:1,j=(M=ut((S=O[1])!=null?S:String(X)))!=null?M:X;K(Dt(X,j));continue}if(G==="scalex"){const X=(R=ut((k=O[0])!=null?k:"1"))!=null?R:1;K(Dt(X,1));continue}if(G==="scaley"){const X=(B=ut((H=O[0])!=null?H:"1"))!=null?B:1;K(Dt(1,X));continue}if(G==="rotate"){const X=(Q=Rt(($=O[0])!=null?$:"0"))!=null?Q:0;K(ie(X));continue}if(G==="skew"){const X=(xt=Rt((gt=O[0])!=null?gt:"0"))!=null?xt:0,j=(ot=Rt((ct=O[1])!=null?ct:"0"))!=null?ot:0;K(At(X)),K(Vt(j));continue}if(G==="skewx"){const X=(bt=Rt((ht=O[0])!=null?ht:"0"))!=null?bt:0;K(At(X));continue}if(G==="skewy"){const X=(It=Rt((wt=O[0])!=null?wt:"0"))!=null?It:0;K(Vt(X));continue}}return r}function jt(t,e,n){var h,u;if(t==null)return{x:e/2,y:n/2};if(typeof t=="number")return{x:t,y:t};if(typeof t!="string")return{x:e/2,y:n/2};const r=t.trim();if(!r)return{x:e/2,y:n/2};if(r==="center")return{x:e/2,y:n/2};const a=r.split(/\s+/g).filter(Boolean),l=(h=a[0])!=null?h:"50%",s=(u=a[1])!=null?u:"50%",g=(m,w,y)=>{const x=m.toLowerCase();if(x==="center")return w/2;if(y==="x"&&x==="left")return 0;if(y==="x"&&x==="right")return w;if(y==="y"&&x==="top")return 0;if(y==="y"&&x==="bottom")return w;if(x.endsWith("%")){const S=ut(x.slice(0,-1));return S==null?w/2:w*S/100}const v=ut(x);return v==null?w/2:v};return{x:g(l,e,"x"),y:g(s,n,"y")}}function se(t){return typeof t!="number"||!Number.isFinite(t)?1:t<=0?0:t>=1?1:t}function Mt(t){return typeof t!="number"||!Number.isFinite(t)?0:Math.trunc(t)}function Ut(t){return t==="hidden"||t===!0}function $t(t){const e=t.a*t.d-t.b*t.c;if(!Number.isFinite(e))return 1;const n=Math.sqrt(Math.abs(e));return Number.isFinite(n)&&n>0?n:1}function ce(t,e,n,r){var u,m;const a=Ot(e);if(!a)return;const l=(u=e.props.fill)!=null?u:"#ffffff",s=e.props.fillRule,g=e.props.stroke,h=(m=e.props.lineWidth)!=null?m:1;t.save(),t.translate(n,r),l&&(t.fillStyle=l,t.fill(a,s)),g&&(t.strokeStyle=g,t.lineWidth=h,t.stroke(a)),t.restore()}function ae(t,e,n,r,a,l){var x,v,S,M,k,R;const s=(x=e.props.stroke)!=null?x:"#ffffff",g=(v=e.props.lineWidth)!=null?v:1,h=e.props.lineCap,u=(S=e.props.x1)!=null?S:0,m=(M=e.props.y1)!=null?M:0,w=(k=e.props.x2)!=null?k:a,y=(R=e.props.y2)!=null?R:l;t.save(),t.beginPath(),t.moveTo(n+u,r+m),t.lineTo(n+w,r+y),t.strokeStyle=s,t.lineWidth=g,h&&(t.lineCap=h),t.stroke(),t.restore()}function ue(t,e){var y,x,v,S,M,k,R,H;const n=(x=(y=t.props)==null?void 0:y.style)!=null?x:{};let r=n.fontSize,a=n.fontFamily,l=n.fontWeight,s=n.lineHeight,g=t.parent;for(;g&&(r==null||a==null||l==null||s==null);){const B=(S=(v=g.props)==null?void 0:v.style)!=null?S:{};r==null&&typeof B.fontSize=="number"&&(r=B.fontSize),a==null&&typeof B.fontFamily=="string"&&(a=B.fontFamily),l==null&&(typeof B.fontWeight=="number"||typeof B.fontWeight=="string")&&(l=B.fontWeight),s==null&&typeof B.lineHeight=="number"&&(s=B.lineHeight),g=g.parent}const h=(M=r!=null?r:e==null?void 0:e.fontSize)!=null?M:16,u=(k=a!=null?a:e==null?void 0:e.fontFamily)!=null?k:"system-ui",m=(R=l!=null?l:e==null?void 0:e.fontWeight)!=null?R:400,w=(H=s!=null?s:e==null?void 0:e.lineHeight)!=null?H:Math.round(h*1.2);return{fontSize:h,fontFamily:u,fontWeight:m,lineHeight:w,font:`${m} ${h}px ${u}`}}function yt(t,e,n,r,a,l){const s=Math.max(0,Math.min(l,Math.min(r,a)/2));t.beginPath(),t.moveTo(e+s,n),t.arcTo(e+r,n,e+r,n+a,s),t.arcTo(e+r,n+a,e,n+a,s),t.arcTo(e,n+a,e,n,s),t.arcTo(e,n,e+r,n,s),t.closePath()}function fe(t,e,n,r,a,l,s,g){return t<a+s&&t+n>a&&e<l+g&&e+r>l}function he(t){var s,g;if(typeof t!="string")return null;const e=t.trim();if(!e)return null;const n=e.replace(/\s+/g," "),r=n.match(/^([0-9]*\.?[0-9]+)(px)?\s+(?:solid\s+)?(.+)$/i);if(r){const h=Number(r[1]),u=(s=r[3])==null?void 0:s.trim();return Number.isFinite(h)&&h>0&&u?{width:h,color:u}:null}const a=n.replace(/\bsolid\b/gi," ").replace(/\s+/g," ").trim(),l=a.match(/^([0-9]*\.?[0-9]+)(px)?\s+(.+)$/i);if(l){const h=Number(l[1]),u=(g=l[3])==null?void 0:g.trim();return Number.isFinite(h)&&h>0&&u?{width:h,color:u}:null}return/^[0-9]/.test(a)||!a?null:{width:1,color:a}}function Yt(t,e,n,r,a,l,s){if(!Number.isFinite(s.width)||s.width<=0)return;const g=s.width/2,h=r-s.width,u=a-s.width;h<=0||u<=0||(t.save(),t.strokeStyle=s.color,t.lineWidth=s.width,yt(t,e+g,n+g,h,u,Math.max(0,l-g)),t.stroke(),t.restore())}function pe(t){return t&&(t==="no-repeat"||t==="repeat-x"||t==="repeat-y"||t==="repeat")?t:"repeat"}function de(t,e,n,r,a){if(!t||t==="auto")return{width:r,height:a};if(t==="cover"){const h=Math.max(e/r,n/a);return{width:r*h,height:a*h}}if(t==="contain"){const h=Math.min(e/r,n/a);return{width:r*h,height:a*h}}const l=t.trim().split(/\s+/);let s=r,g=a;return l[0]&&(l[0].endsWith("%")?s=e*parseFloat(l[0])/100:l[0]!=="auto"&&(s=parseFloat(l[0]))),l[1]?l[1].endsWith("%")?g=n*parseFloat(l[1])/100:l[1]!=="auto"&&(g=parseFloat(l[1])):l[0]!=="auto"&&(g=a*(s/r)),{width:s,height:g}}function ge(t,e,n,r,a){const l=(t||"").trim().split(/\s+/);if(l.length===0||l.length===1&&!l[0])return{x:0,y:0};const s=l[0];let g=l[1];l.length===1&&(g="center");function h(u,m,w){return u==="left"||u==="top"?0:u==="right"||u==="bottom"?m-w:u==="center"?(m-w)/2:u.endsWith("%")?(m-w)*parseFloat(u)/100:u.endsWith("px")?parseFloat(u):parseFloat(u)||0}return{x:h(s,e,r),y:h(g,n,a)}}function me(t,e,n,r,a,l,s){const g=e.backgroundImageInstance;if(!g||!g.complete||g.naturalWidth===0||g.naturalHeight===0)return;const h=e.props,u=h.backgroundSize,m=h.backgroundPosition,w=pe(h.backgroundRepeat),y=g.naturalWidth,x=g.naturalHeight,{width:v,height:S}=de(u,a,l,y,x),{x:M,y:k}=ge(m,a,l,v,S);if(t.save(),yt(t,n,r,a,l,s),t.clip(),w==="no-repeat")t.drawImage(g,n+M,r+k,v,S);else{const R=t.createPattern(g,w);if(R){const H=new DOMMatrix,B=v/y,$=S/x;H.translateSelf(n+M,r+k),H.scaleSelf(B,$),R.setTransform(H),t.fillStyle=R,t.beginPath(),t.rect(n,r,a,l),t.fill()}}t.restore()}function Pt(t,e){var v,S,M,k,R,H,B,$,Q,gt,xt,ct,ot,ht,bt,wt,It,q,O,G,K,X,j,vt,o,d,i;const{ctx:n}=t,r=e.layout.width,a=e.layout.height,l=(S=(v=e.props)==null?void 0:v.style)!=null?S:{},s=se(l.opacity),g=Ut(l.overflow),h=Kt(l.transform),u=h.a!==et.a||h.b!==et.b||h.c!==et.c||h.d!==et.d||h.e!==et.e||h.f!==et.f;let m=null,w=0,y=!1;const x=()=>{var P,W;const c=e.children;if(c.length<=1||e.type==="Layer")return c;let f=!1,p=2166136261;for(let C=0;C<c.length;C+=1){const N=Mt((W=(P=c[C].props)==null?void 0:P.style)==null?void 0:W.zIndex);N!==0&&(f=!0),p^=c[C].debugId,p=Math.imul(p,16777619),p^=N,p=Math.imul(p,16777619)}if(!f)return c;const b=e.__zOrderCache;if(b&&b.hash===p&&b.len===c.length)return b.ordered;const I=c.map((C,N)=>{var Z,nt;return{child:C,index:N,zIndex:Mt((nt=(Z=C.props)==null?void 0:Z.style)==null?void 0:nt.zIndex)}}).sort((C,N)=>C.zIndex-N.zIndex||C.index-N.index).map(C=>C.child);return e.__zOrderCache={hash:p,len:c.length,ordered:I},I};if(n.save(),n.translate(e.layout.x,e.layout.y),s!==1&&(n.globalAlpha*=s),u){const c=jt(l.transformOrigin,r,a);n.translate(c.x,c.y),n.transform(h.a,h.b,h.c,h.d,h.e,h.f),n.translate(-c.x,-c.y)}if(e.type==="Group"){if(g){n.save(),n.beginPath(),n.rect(0,0,r,a),n.clip();for(const c of x())Pt(t,c);n.restore(),n.restore();return}for(const c of x())Pt(t,c);n.restore();return}if(e.type==="View"||e.type==="Layer"){const c=e.props.background;m=he(e.props.border),w=(M=e.props.borderRadius)!=null?M:0;const f=!!((k=e.props)!=null&&k.scrollX),p=!!((R=e.props)!=null&&R.scrollY),b=f&&(H=e.scrollLeft)!=null?H:0,I=p&&(B=e.scrollTop)!=null?B:0,P=f?(($=e.props)==null?void 0:$.scrollbarX)!==!1:!1,W=p?((Q=e.props)==null?void 0:Q.scrollbarY)!==!1:!1,C=(xt=(gt=e.props)==null?void 0:gt.scrollbarWidth)!=null?xt:10,N=(ot=(ct=e.props)==null?void 0:ct.scrollbarInset)!=null?ot:6,Z=(bt=(ht=e.props)==null?void 0:ht.scrollbarTrackColor)!=null?bt:"rgba(255,255,255,0.12)",nt=(It=(wt=e.props)==null?void 0:wt.scrollbarThumbColor)!=null?It:"rgba(255,255,255,0.35)",it=(q=e.scrollContentWidth)!=null?q:0,T=(O=e.scrollContentHeight)!=null?O:0,L=Math.max(0,it-r),_=Math.max(0,T-a);c&&(n.save(),n.fillStyle=c,yt(n,0,0,r,a,w),n.fill(),n.restore());const A=e;if(A.backgroundImageInstance&&me(n,A,0,0,r,a,w),g&&!f&&!p){n.save(),yt(n,0,0,r,a,w),n.clip();for(const U of x())Pt(t,U);n.restore(),m&&Yt(n,0,0,r,a,w,m),n.restore();return}if(f||p){y=!0,n.save(),n.beginPath(),w>0?yt(n,0,0,r,a,w):n.rect(0,0,r,a),n.clip(),n.translate(-b,-I);const U=1,at=b-U,pt=I-U,Y=r+U*2,V=a+U*2;for(const E of x()){const D=(G=E.contentBounds)!=null?G:{x:0,y:0,width:E.layout.width,height:E.layout.height},z=E.layout.x+D.x,ft=E.layout.y+D.y;fe(at,pt,Y,V,z,ft,D.width,D.height)&&Pt(t,E)}n.restore();const rt=N+C;if(W&&_>0){const E=r-N-C,D=N,z=Math.max(0,a-N*2-(P&&L>0?rt:0)),lt=T>0?Math.max(16,Math.min(z,z*a/T)):z,dt=Math.max(0,z-lt),St=dt>0?D+I/_*dt:D,Ht=Math.min(6,C/2);n.save(),n.fillStyle=Z,yt(n,E,D,C,z,Ht),n.fill(),n.fillStyle=nt,yt(n,E,St,C,lt,Ht),n.fill(),n.restore()}if(P&&L>0){const E=N,D=a-N-C,z=Math.max(0,r-N*2-(W&&_>0?rt:0)),lt=it>0?Math.max(16,Math.min(z,z*r/it)):z,dt=Math.max(0,z-lt),St=dt>0?E+b/L*dt:E,Ht=Math.min(6,C/2);n.save(),n.fillStyle=Z,yt(n,E,D,z,C,Ht),n.fill(),n.fillStyle=nt,yt(n,St,D,lt,C,Ht),n.fill(),n.restore()}m&&Yt(n,0,0,r,a,w,m),n.restore();return}}if(e.type==="Rect"){const c=(K=e.props.fill)!=null?K:"#ffffff",f=e.props.stroke,p=(X=e.props.lineWidth)!=null?X:1,b=(j=e.props.borderRadius)!=null?j:0;n.save(),yt(n,0,0,r,a,b),c&&(n.fillStyle=c,n.fill()),f&&(n.strokeStyle=f,n.lineWidth=p,n.stroke()),n.restore()}if(e.type==="Circle"){const c=(vt=e.props.fill)!=null?vt:"#ffffff",f=e.props.stroke,p=(o=e.props.lineWidth)!=null?o:1;if(r>0&&a>0){const b=r/2,I=a/2,P=r/2,W=a/2;n.save(),n.beginPath(),n.ellipse(b,I,P,W,0,0,Math.PI*2),c&&(n.fillStyle=c,n.fill()),f&&(n.strokeStyle=f,n.lineWidth=p,n.stroke()),n.restore()}}if(e.type==="Path"&&ce(n,e,0,0),e.type==="Line"&&ae(n,e,0,0,r,a),e.type==="Text"){const c=e.props.text,f=(d=e.props.color)!=null?d:"#ffffff",{font:p,lineHeight:b}=ue(e,t.defaults);n.save(),n.font=p,n.fillStyle=f,n.textBaseline="top";const I=String(c).split(`
`);for(let P=0;P<I.length;P+=1)n.fillText(I[P],0,P*b);n.restore()}if(e.type==="Image"){const{imageInstance:c}=e;if(c&&c.complete&&c.naturalWidth>0){const f=e.props.objectFit||"contain",p=(i=e.props.borderRadius)!=null?i:0,b=c.naturalWidth,I=c.naturalHeight;let P=0,W=0,C=r,N=a,Z=0,nt=0,it=b,T=I;if(f!=="fill"){if(f==="contain"){const L=Math.min(r/b,a/I);C=b*L,N=I*L,P=(r-C)/2,W=(a-N)/2}else if(f==="cover"){const L=Math.max(r/b,a/I),_=b*L,A=I*L;Z=(_-r)/2/L,nt=(A-a)/2/L,it=r/L,T=a/L}}n.save(),n.beginPath(),yt(n,0,0,r,a,p),n.clip(),n.drawImage(c,Z,nt,it,T,P,W,C,N),n.restore()}}for(const c of x())Pt(t,c);(e.type==="View"||e.type==="Layer")&&!y&&m&&Yt(n,0,0,r,a,w,m),n.restore()}function Gt(t,e,n,r,a){var w,y;const l=e.canvas.width,s=e.canvas.height;e.save(),r?(e.fillStyle=r,e.fillRect(0,0,l,s)):e.clearRect(0,0,l,s),e.restore(),e.save(),e.setTransform(n,0,0,n,0,0);const g={ctx:e,defaults:a},h=t.children;let u=!1;for(let x=0;x<h.length;x+=1)if(Mt((y=(w=h[x].props)==null?void 0:w.style)==null?void 0:y.zIndex)!==0){u=!0;break}const m=u?h.map((x,v)=>{var S,M;return{child:x,index:v,zIndex:Mt((M=(S=x.props)==null?void 0:S.style)==null?void 0:M.zIndex)}}).sort((x,v)=>x.zIndex-v.zIndex||x.index-v.index).map(x=>x.child):h;for(const x of m)Pt(g,x);e.restore()}var _t=null;function ye(){return _t||(_t=Nt(this,null,function*(){return{yoga:yield(0,F.TM)()}})),_t}function be(t,e){const n=e!=null?e:{};typeof n.width=="number"&&t.setWidth(n.width),typeof n.height=="number"&&t.setHeight(n.height),typeof n.minWidth=="number"&&t.setMinWidth(n.minWidth),typeof n.minHeight=="number"&&t.setMinHeight(n.minHeight),typeof n.maxWidth=="number"&&t.setMaxWidth(n.maxWidth),typeof n.maxHeight=="number"&&t.setMaxHeight(n.maxHeight);const r=ne(n);t.setPadding(F.kS.Top,r.paddingTop),t.setPadding(F.kS.Right,r.paddingRight),t.setPadding(F.kS.Bottom,r.paddingBottom),t.setPadding(F.kS.Left,r.paddingLeft),t.setMargin(F.kS.Top,r.marginTop),t.setMargin(F.kS.Right,r.marginRight),t.setMargin(F.kS.Bottom,r.marginBottom),t.setMargin(F.kS.Left,r.marginLeft),typeof n.flexGrow=="number"&&t.setFlexGrow(n.flexGrow),typeof n.flexShrink=="number"&&t.setFlexShrink(n.flexShrink),typeof n.flexBasis=="number"&&t.setFlexBasis(n.flexBasis),n.flexDirection==="row"&&t.setFlexDirection(F.Qb.Row),n.flexDirection==="column"&&t.setFlexDirection(F.Qb.Column),n.justifyContent==="flex-start"&&t.setJustifyContent(F.WD.FlexStart),n.justifyContent==="center"&&t.setJustifyContent(F.WD.Center),n.justifyContent==="flex-end"&&t.setJustifyContent(F.WD.FlexEnd),n.justifyContent==="space-between"&&t.setJustifyContent(F.WD.SpaceBetween),n.justifyContent==="space-around"&&t.setJustifyContent(F.WD.SpaceAround),n.alignItems==="stretch"&&t.setAlignItems(F.xM.Stretch),n.alignItems==="flex-start"&&t.setAlignItems(F.xM.FlexStart),n.alignItems==="center"&&t.setAlignItems(F.xM.Center),n.alignItems==="flex-end"&&t.setAlignItems(F.xM.FlexEnd),n.alignContent==="stretch"&&t.setAlignContent(F.xM.Stretch),n.alignContent==="flex-start"&&t.setAlignContent(F.xM.FlexStart),n.alignContent==="center"&&t.setAlignContent(F.xM.Center),n.alignContent==="flex-end"&&t.setAlignContent(F.xM.FlexEnd),n.alignContent==="space-between"&&t.setAlignContent(F.xM.SpaceBetween),n.alignContent==="space-around"&&t.setAlignContent(F.xM.SpaceAround),n.flexWrap==="no-wrap"&&t.setFlexWrap(F.Eq.NoWrap),n.flexWrap==="wrap"&&t.setFlexWrap(F.Eq.Wrap),n.position==="absolute"&&t.setPositionType(F.d.Absolute),n.position==="relative"&&t.setPositionType(F.d.Relative),typeof n.top=="number"&&t.setPosition(F.kS.Top,n.top),typeof n.right=="number"&&t.setPosition(F.kS.Right,n.right),typeof n.bottom=="number"&&t.setPosition(F.kS.Bottom,n.bottom),typeof n.left=="number"&&t.setPosition(F.kS.Left,n.left),typeof n.gap=="number"&&t.setGap(F.Th.All,n.gap)}function xe(t,e){var y,x,v,S,M,k,R;const n=(y=t.props.style)!=null?y:{};let r=n.fontSize,a=n.fontFamily,l=n.fontWeight,s=n.lineHeight,g=t.parent;for(;g&&(r==null||a==null||l==null||s==null);){const H=(v=(x=g.props)==null?void 0:x.style)!=null?v:{};r==null&&typeof H.fontSize=="number"&&(r=H.fontSize),a==null&&typeof H.fontFamily=="string"&&(a=H.fontFamily),l==null&&(typeof H.fontWeight=="number"||typeof H.fontWeight=="string")&&(l=H.fontWeight),s==null&&typeof H.lineHeight=="number"&&(s=H.lineHeight),g=g.parent}const h=(S=r!=null?r:e==null?void 0:e.fontSize)!=null?S:16,u=(M=a!=null?a:e==null?void 0:e.fontFamily)!=null?M:"system-ui",m=(k=l!=null?l:e==null?void 0:e.fontWeight)!=null?k:400,w=(R=s!=null?s:e==null?void 0:e.lineHeight)!=null?R:Math.round(h*1.2);return{fontSize:h,fontFamily:u,fontWeight:m,lineHeight:w,font:`${m} ${h}px ${u}`}}function we(t,e,n,r){if(e.yogaNode)return;const a=t.yoga.Node.create();if(e.yogaNode=a,e.type==="Text"){const l=e;a.setMeasureFunc((s,g,h,u)=>{var k;const{font:m,fontSize:w,lineHeight:y}=xe(l,r),x=g===F.CN.Undefined?l.props.maxWidth:s,v=n==null?void 0:n(l.props.text,m,x),S=(k=v==null?void 0:v.width)!=null?k:Math.min(l.props.text.length*w,x!=null?x:l.props.text.length*w),M=v!=null&&v.height?Math.max(1,Math.round(v.height/y)):1;return{width:S,height:M*y}})}}function Ie(t,e,n,r,a){const l=h=>{const u=h.getChildCount();for(let m=u-1;m>=0;m-=1)h.removeChild(h.getChild(m))},s=h=>{var u;h.yogaNode&&l(h.yogaNode);for(const m of(u=h.children)!=null?u:[])s(m)};s(n),l(e);const g=(h,u)=>{var m,w,y;for(let x=0;x<u.children.length;x+=1){const v=u.children[x];we(t,v,r,a);const S=(m=v.props)==null?void 0:m.style;be(v.yogaNode,S);const M=(y=(w=v.yogaNode).getParent)==null?void 0:y.call(w);M&&M!==h&&M.removeChild(v.yogaNode),h.insertChild(v.yogaNode,h.getChildCount()),v.children.length&&g(v.yogaNode,v)}};g(e,n)}function ve(t){if(!t.yogaNode)return;const e=t.yogaNode.getComputedLayout();t.layout={x:e.left,y:e.top,width:e.width,height:e.height}}function Zt(t,e,n,r,a){return Nt(this,null,function*(){const l=yield ye();t.yogaNode?(t.yogaNode.setWidth(e),t.yogaNode.setHeight(n)):(t.yogaNode=l.yoga.Node.create(),t.yogaNode.setWidth(e),t.yogaNode.setHeight(n)),t.yogaNode.setFlexDirection(F.Qb.Column),t.yogaNode.setAlignItems(F.xM.Stretch),Ie(l,t.yogaNode,t,r,a),t.yogaNode.calculateLayout(e,n,F.Nm.LTR);const s=y=>{let x=0;for(const v of y.children)x=Math.max(x,v.layout.x+v.layout.width);return x},g=y=>{let x=0;for(const v of y.children)x=Math.max(x,v.layout.y+v.layout.height);return x},h=y=>{var M,k;if(y.type!=="View"&&y.type!=="Layer"||!((M=y.props)!=null&&M.scrollY))return;const x=y.layout.height,v=(k=y.scrollContentHeight)!=null?k:0,S=Math.max(0,v-x);typeof y.scrollTop!="number"&&(y.scrollTop=0),y.scrollTop=Math.max(0,Math.min(y.scrollTop,S))},u=y=>{var M,k;if(y.type!=="View"&&y.type!=="Layer"||!((M=y.props)!=null&&M.scrollX))return;const x=y.layout.width,v=(k=y.scrollContentWidth)!=null?k:0,S=Math.max(0,v-x);typeof y.scrollLeft!="number"&&(y.scrollLeft=0),y.scrollLeft=Math.max(0,Math.min(y.scrollLeft,S))},m=y=>{var x,v,S,M;for(const k of y.children)ve(k),k.children.length&&m(k),(k.type==="View"||k.type==="Layer")&&((x=k.props)!=null&&x.scrollY||(v=k.props)!=null&&v.scrollX)&&((S=k.props)!=null&&S.scrollY&&(k.scrollContentHeight=g(k),h(k)),(M=k.props)!=null&&M.scrollX&&(k.scrollContentWidth=s(k),u(k)))};m(t);const w=y=>{var k;let x=0,v=0,S=y.layout.width,M=y.layout.height;for(const R of y.children){R.children.length&&w(R);const H=(k=R.contentBounds)!=null?k:{x:0,y:0,width:R.layout.width,height:R.layout.height},B=R.layout.x+H.x,$=R.layout.y+H.y,Q=B+H.width,gt=$+H.height;x=Math.min(x,B),v=Math.min(v,$),S=Math.max(S,Q),M=Math.max(M,gt)}y.contentBounds={x,y:v,width:S-x,height:M-v}};for(const y of t.children)w(y)})}function Jt(t){var n,r;if(t.yogaNode){const a=(r=(n=t.yogaNode).getParent)==null?void 0:r.call(n);a&&a.removeChild(t.yogaNode),t.yogaNode.freeRecursive()}const e=a=>{a.yogaNode=null;for(const l of a.children)e(l)};e(t)}var Qt={now:Date.now,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,getRootHostContext(){return null},getChildHostContext(){return null},shouldSetTextContent(){return!1},createInstance(t,e,n){const r=Wt(t,e);if(t==="Image"&&e.src){const a=r,l=new Image;l.crossOrigin="anonymous",l.src=e.src,l.dataset&&(l.dataset.src=e.src),a.imageInstance=l,l.complete||(l.onload=()=>n.invalidate())}else if((t==="View"||t==="Layer")&&e.backgroundImage){const a=r,l=new Image;l.crossOrigin="anonymous",l.src=e.backgroundImage,l.dataset&&(l.dataset.src=e.backgroundImage),a.backgroundImageInstance=l,l.complete||(l.onload=()=>n.invalidate())}return r},createTextInstance(){throw new Error('Text instances are not supported. Use <Text text="..."/>.')},appendInitialChild(t,e){Qt.appendChild(t,e)},appendChild(t,e){e.parent=t,t.children.push(e)},appendChildToContainer(t,e){e.parent=t.root,t.root.children.push(e),t.invalidate()},insertBefore(t,e,n){e.parent=t;const r=t.children.indexOf(n);r>=0?t.children.splice(r,0,e):t.children.push(e)},insertInContainerBefore(t,e,n){e.parent=t.root;const r=t.root.children.indexOf(n);r>=0?t.root.children.splice(r,0,e):t.root.children.push(e),t.invalidate()},removeChild(t,e){const n=t.children.indexOf(e);n>=0&&t.children.splice(n,1),e.parent=null,Jt(e)},removeChildFromContainer(t,e){const n=t.root.children.indexOf(e);n>=0&&t.root.children.splice(n,1),e.parent=null,Jt(e),t.invalidate()},finalizeInitialChildren(){return!1},prepareUpdate(t,e,n,r){return r},commitUpdate(t,e){var n,r,a,l;if(t.props=e,t.type==="Image"){const s=t,g=t.props.src,h=(r=(n=s.imageInstance)==null?void 0:n.dataset)==null?void 0:r.src;if(g!==h)if(!g)s.imageInstance=null;else{const u=new Image;u.crossOrigin="anonymous",u.src=g,u.dataset&&(u.dataset.src=g),s.imageInstance=u;const m=()=>{var y;let w=s;for(;w;){if(w.type==="Root"){(y=w.container)==null||y.invalidate();return}w=w.parent}};u.complete?m():u.onload=m}}else if(t.type==="View"||t.type==="Layer"){const s=t,g=t.props.backgroundImage,h=(l=(a=s.backgroundImageInstance)==null?void 0:a.dataset)==null?void 0:l.src;if(g!==h)if(!g)s.backgroundImageInstance=null;else{const u=new Image;u.crossOrigin="anonymous",u.src=g,u.dataset&&(u.dataset.src=g),s.backgroundImageInstance=u;const m=()=>{var y;let w=s;for(;w;){if(w.type==="Root"){(y=w.container)==null||y.invalidate();return}w=w.parent}};u.complete?m():u.onload=m}}},commitTextUpdate(){},resetTextContent(){},prepareForCommit(){return null},resetAfterCommit(t){var e;t.invalidate(),(e=t.notifyCommit)==null||e.call(t)},clearContainer(t){return t.root.children=[],t.invalidate(),!1},getPublicInstance(t){return t},hideInstance(){},unhideInstance(){},hideTextInstance(){},unhideTextInstance(){},detachDeletedInstance(){}},zt=Xt(Qt);function Ce(t){const e=zt.createContainer(t,0,null,!1,null,"",console.error,null);return{render(n){zt.updateContainer(n,e,null,()=>{})},unmount(){zt.updateContainer(null,e,null,()=>{})}}}function Se(t,e,n,r,a,l){const s=a/2,g=l/2;if(s<=0||g<=0)return!1;const h=n+s,u=r+g,m=(t-h)/s,w=(e-u)/g;return m*m+w*w<=1}function Me(t,e,n,r,a,l,s){const g=a-n,h=l-r,u=t-n,m=e-r,w=g*g+h*h;if(w<=1e-9){const k=t-n,R=e-r;return k*k+R*R<=s*s}let y=(u*g+m*h)/w;y<0?y=0:y>1&&(y=1);const x=n+y*g,v=r+y*h,S=t-x,M=e-v;return S*S+M*M<=s*s}function qt(t){var s,g;const e=t.children;if(e.length<=1||t.type==="Layer")return e;let n=!1,r=2166136261;for(let h=0;h<e.length;h+=1){const u=Mt((g=(s=e[h].props)==null?void 0:s.style)==null?void 0:g.zIndex);u!==0&&(n=!0),r^=e[h].debugId,r=Math.imul(r,16777619),r^=u,r=Math.imul(r,16777619)}if(!n)return e;const a=t.__zOrderCache;if(a&&a.hash===r&&a.len===e.length)return a.ordered;const l=e.map((h,u)=>{var m,w;return{child:h,index:u,zIndex:Mt((w=(m=h.props)==null?void 0:m.style)==null?void 0:w.zIndex)}}).sort((h,u)=>h.zIndex-u.zIndex||h.index-u.index).map(h=>h.child);return t.__zOrderCache={hash:r,len:e.length,ordered:l},l}function ke(t,e,n,r){const a=t.__localTransformCache;if(a&&a.transform===(e==null?void 0:e.transform)&&a.transformOrigin===(e==null?void 0:e.transformOrigin)&&a.w===n&&a.h===r)return a.value;const l=Kt(e==null?void 0:e.transform);if(!(l.a!==et.a||l.b!==et.b||l.c!==et.c||l.d!==et.d||l.e!==et.e||l.f!==et.f)){const w={matrix:et,inv:et,scale:1};return t.__localTransformCache={transform:e==null?void 0:e.transform,transformOrigin:e==null?void 0:e.transformOrigin,w:n,h:r,value:w},w}const g=jt(e==null?void 0:e.transformOrigin,n,r),h=Bt(Lt(g.x,g.y),Bt(l,Lt(-g.x,-g.y))),u=re(h),m=u?{matrix:h,inv:u,scale:$t(h)}:{matrix:h,inv:null,scale:$t(h)};return t.__localTransformCache={transform:e==null?void 0:e.transform,transformOrigin:e==null?void 0:e.transformOrigin,w:n,h:r,value:m},m}function Pe(t,e,n,r,a){if(!(n>0&&r>0))return!1;const l=Math.max(0,Math.min(a,Math.min(n,r)/2));if(l===0)return t>=0&&t<=n&&e>=0&&e<=r;if(t<0||t>n||e<0||e>r)return!1;if(t>=l&&t<=n-l||e>=l&&e<=r-l)return!0;const s=t<l?l:n-l,g=e<l?l:r-l,h=t-s,u=e-g;return h*h+u*u<=l*l}function Te(t,e,n,r){const a=t.length<=1?t:t.map((s,g)=>{var h,u;return{child:s,index:g,zIndex:Mt((u=(h=s.props)==null?void 0:h.style)==null?void 0:u.zIndex)}}).sort((s,g)=>s.zIndex-g.zIndex||s.index-g.index).map(s=>s.child),l=(s,g,h)=>{var ct,ot,ht,bt,wt,It,q,O,G,K,X,j,vt,o,d;if(((ct=s.props)==null?void 0:ct.pointerEvents)==="none")return null;const u=s.layout.width,m=s.layout.height,w=(ht=(ot=s.props)==null?void 0:ot.style)!=null?ht:{};let y=g-s.layout.x,x=h-s.layout.y;const v=ke(s,w,u,m);if(v.inv===null)return null;if(v.matrix!==et){const i=oe(v.inv,y,x);y=i.x,x=i.y}const S=y>=0&&y<=u&&x>=0&&x<=m,M=Ut(w.overflow),k=s.type==="View"||s.type==="Layer",R=k&&!!((bt=s.props)!=null&&bt.scrollX),H=k&&!!((wt=s.props)!=null&&wt.scrollY),B=R||H||M;let $=S;if(B&&k){const i=(q=(It=s.props)==null?void 0:It.borderRadius)!=null?q:0;typeof i=="number"&&i>0&&($=Pe(y,x,u,m,i))}if(B&&!$)return null;let Q=y,gt=x;R&&(Q+=(O=s.scrollLeft)!=null?O:0),H&&(gt+=(G=s.scrollTop)!=null?G:0);const xt=qt(s);for(let i=xt.length-1;i>=0;i-=1){const c=l(xt[i],Q,gt);if(c)return c}if(!$||s.type==="Circle"&&!Se(y,x,0,0,u,m))return null;if(s.type==="Line"){const i=(K=s.props.x1)!=null?K:0,c=(X=s.props.y1)!=null?X:0,f=(j=s.props.x2)!=null?j:u,p=(vt=s.props.y2)!=null?vt:m,b=(o=s.props.lineWidth)!=null?o:1,I=Math.max(1,b/2*v.scale);if(!Me(y,x,i,c,f,p,I))return null}if(s.type==="Path"){const i=Ot(s);if(!i)return null;if(!r)return s;const c=s.props.fillRule,f=s.props.stroke,p=(d=s.props.lineWidth)!=null?d:1;r.save(),r.setTransform(1,0,0,1,0,0),r.lineWidth=p*v.scale;const b=r.isPointInPath(i,y,x,c),I=f?r.isPointInStroke(i,y,x):!1;if(r.restore(),!b&&!I)return null}return s};for(let s=a.length-1;s>=0;s-=1){const g=l(a[s],e,n);if(g)return g}return null}function We(t,e){const n=t.getContext("2d");if(!n)throw new Error("CanvasRenderingContext2D is not available");const r=Ct(),a=new Set,l=()=>{for(const o of a)o()};let s=null,g=null,h=null;const u=(o,d)=>{const i=t.getBoundingClientRect(),c=i.width?e.width/i.width:1,f=i.height?e.height/i.height:1,p=(o-i.left)*c,b=(d-i.top)*f;return{x:p,y:b}},m=o=>{const d=i=>{if(i.debugId===o)return i;for(const c of i.children){const f=d(c);if(f)return f}return null};for(const i of r.children){const c=d(i);if(c)return c}return null},w=o=>{var p,b,I,P;const d=[];let i=o;for(;i;){d.push(i);const W=i.parent;i=W&&W.type!=="Root"?W:null}let c=0,f=0;for(let W=d.length-1;W>=0;W-=1){const C=d[W];c+=C.layout.x,f+=C.layout.y;const N=W>0;N&&(C.type==="View"||C.type==="Layer")&&((p=C.props)!=null&&p.scrollX)&&(c-=(b=C.scrollLeft)!=null?b:0),N&&(C.type==="View"||C.type==="Layer")&&((I=C.props)!=null&&I.scrollY)&&(f-=(P=C.scrollTop)!=null?P:0)}return{x:c,y:f,width:o.layout.width,height:o.layout.height}},y=o=>{var c,f;const d=[];let i=o.parent&&o.parent.type!=="Root"?o.parent:null;for(;i;){if(i.type==="View"||i.type==="Layer"){const b=!!((c=i.props)!=null&&c.scrollX),I=!!((f=i.props)!=null&&f.scrollY);(b||I)&&d.push(w(i))}const p=i.parent;i=p&&p.type!=="Root"?p:null}return d.reverse()},x=(o,d,i)=>{if(d>6)return"[MaxDepth]";if(o==null)return o;const c=typeof o;if(c==="string"||c==="number"||c==="boolean")return o;if(c==="bigint"||c==="symbol")return String(o);if(c==="function")return"[Function]";if(c!=="object")return String(o);if(i.has(o))return"[Circular]";if(i.add(o),Array.isArray(o)){const I=[],P=Math.min(o.length,50);for(let W=0;W<P;W+=1)I.push(x(o[W],d+1,i));return o.length>P&&I.push(`[+${o.length-P}]`),I}const f={},p=Object.keys(o).slice(0,80);for(const I of p)f[I]=x(o[I],d+1,i);const b=Object.keys(o);return b.length>p.length&&(f.__moreKeys=b.length-p.length),f};let v=null,S=!0,M=!0;const k=(o,d,i)=>{n.save(),n.font=d;const c=n.measureText(o);n.restore();const f=typeof i=="number"?Math.min(c.width,i):c.width,p=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent||0);return{width:f,height:Math.max(1,p)}},R=()=>{S=!0,M=!0,v==null&&(v=requestAnimationFrame(()=>Nt(this,null,function*(){if(v=null,!S&&!M)return;const o=S,d=M||S;S=!1,M=!1,o&&(yield Zt(r,e.width,e.height,k,e)),d&&Gt(r,n,e.dpr,e.clearColor,e);const i=typeof s=="number"?m(s):null,c=typeof g=="number"?m(g):null;if(i||c){if(n.save(),n.setTransform(e.dpr,0,0,e.dpr,0,0),i&&(!c||i.debugId!==c.debugId)){const f=w(i);n.save();for(const p of y(i))n.beginPath(),n.rect(p.x,p.y,p.width,p.height),n.clip();n.fillStyle="rgba(59,130,246,0.12)",n.strokeStyle="rgba(59,130,246,0.9)",n.lineWidth=1,n.fillRect(f.x,f.y,f.width,f.height),n.strokeRect(f.x+.5,f.y+.5,Math.max(0,f.width-1),Math.max(0,f.height-1)),n.restore()}if(c){const f=w(c);n.save();for(const p of y(c))n.beginPath(),n.rect(p.x,p.y,p.width,p.height),n.clip();n.fillStyle="rgba(16,185,129,0.12)",n.strokeStyle="rgba(16,185,129,0.95)",n.lineWidth=2,n.fillRect(f.x,f.y,f.width,f.height),n.strokeRect(f.x+1,f.y+1,Math.max(0,f.width-2),Math.max(0,f.height-2)),n.restore()}n.restore()}})))},H=()=>{M=!0,v==null&&(v=requestAnimationFrame(()=>Nt(this,null,function*(){if(v=null,!S&&!M)return;const o=S,d=M||S;S=!1,M=!1,o&&(yield Zt(r,e.width,e.height,k,e)),d&&Gt(r,n,e.dpr,e.clearColor,e);const i=typeof s=="number"?m(s):null,c=typeof g=="number"?m(g):null;if(i||c){if(n.save(),n.setTransform(e.dpr,0,0,e.dpr,0,0),i&&(!c||i.debugId!==c.debugId)){const f=w(i);n.save();for(const p of y(i))n.beginPath(),n.rect(p.x,p.y,p.width,p.height),n.clip();n.fillStyle="rgba(59,130,246,0.12)",n.strokeStyle="rgba(59,130,246,0.9)",n.lineWidth=1,n.fillRect(f.x,f.y,f.width,f.height),n.strokeRect(f.x+.5,f.y+.5,Math.max(0,f.width-1),Math.max(0,f.height-1)),n.restore()}if(c){const f=w(c);n.save();for(const p of y(c))n.beginPath(),n.rect(p.x,p.y,p.width,p.height),n.clip();n.fillStyle="rgba(16,185,129,0.12)",n.strokeStyle="rgba(16,185,129,0.95)",n.lineWidth=2,n.fillRect(f.x,f.y,f.width,f.height),n.strokeRect(f.x+1,f.y+1,Math.max(0,f.width-2),Math.max(0,f.height-2)),n.restore()}n.restore()}})))},B=(o,d,i)=>{var pt,Y,V,rt,E,D,z,ft,lt,dt,St;if(o.type!=="View"&&o.type!=="Layer"||!((pt=o.props)!=null&&pt.scrollY)||((Y=o.props)==null?void 0:Y.scrollbarY)===!1)return null;const c=o.layout.width,f=o.layout.height,p=(V=o.scrollContentHeight)!=null?V:0,b=Math.max(0,p-f);if(b<=0)return null;const I=(E=(rt=o.props)==null?void 0:rt.scrollbarWidth)!=null?E:10,P=(z=(D=o.props)==null?void 0:D.scrollbarInset)!=null?z:6,W=P+I,C=(ft=o.scrollContentWidth)!=null?ft:0,N=Math.max(0,C-c),Z=!!((lt=o.props)!=null&&lt.scrollX)&&((dt=o.props)==null?void 0:dt.scrollbarX)!==!1&&N>0,nt=d+c-P-I,it=i+P,T=Math.max(0,f-P*2-(Z?W:0));if(T<=0)return null;const _=p>0?Math.max(16,Math.min(T,T*f/p)):T,A=Math.max(0,T-_),U=(St=o.scrollTop)!=null?St:0,at=A>0?it+U/b*A:it;return{maxScrollTop:b,trackX:nt,trackY:it,trackH:T,thumbY:at,thumbH:_}},$=(o,d,i)=>{var pt,Y,V,rt,E,D,z,ft,lt,dt,St;if(o.type!=="View"&&o.type!=="Layer"||!((pt=o.props)!=null&&pt.scrollX)||((Y=o.props)==null?void 0:Y.scrollbarX)===!1)return null;const c=o.layout.width,f=o.layout.height,p=(V=o.scrollContentWidth)!=null?V:0,b=Math.max(0,p-c);if(b<=0)return null;const I=(E=(rt=o.props)==null?void 0:rt.scrollbarWidth)!=null?E:10,P=(z=(D=o.props)==null?void 0:D.scrollbarInset)!=null?z:6,W=P+I,C=(ft=o.scrollContentHeight)!=null?ft:0,N=Math.max(0,C-f),Z=!!((lt=o.props)!=null&&lt.scrollY)&&((dt=o.props)==null?void 0:dt.scrollbarY)!==!1&&N>0,nt=d+P,it=i+f-P-I,T=Math.max(0,c-P*2-(Z?W:0));if(T<=0)return null;const _=p>0?Math.max(16,Math.min(T,T*c/p)):T,A=Math.max(0,T-_),U=(St=o.scrollLeft)!=null?St:0,at=A>0?nt+U/b*A:nt;return{maxScrollLeft:b,trackX:nt,trackY:it,trackW:T,thumbX:at,thumbW:_}},Q=(o,d)=>Te(r.children,o,d,n),gt=(o,d,i,c,f)=>{var it,T,L,_,A,U,at,pt,Y;if(((it=o.props)==null?void 0:it.pointerEvents)==="none")return null;const p=c+o.layout.x,b=f+o.layout.y,I=p+o.layout.width,P=b+o.layout.height;if(d<p||d>I||i<b||i>P)return null;const W=B(o,p,b);if(W){const{trackX:V,thumbY:rt,thumbH:E}=W,D=V,z=V+((L=(T=o.props)==null?void 0:T.scrollbarWidth)!=null?L:10),ft=rt,lt=rt+E;if(d>=D&&d<=z&&i>=ft&&i<=lt)return{view:o,axis:"y"}}const C=$(o,p,b);if(C){const{trackY:V,thumbX:rt,thumbW:E}=C,D=rt,z=rt+E,ft=V,lt=V+((A=(_=o.props)==null?void 0:_.scrollbarWidth)!=null?A:10);if(d>=D&&d<=z&&i>=ft&&i<=lt)return{view:o,axis:"x"}}const N=(o.type==="View"||o.type==="Layer")&&((U=o.props)!=null&&U.scrollX)?p-((at=o.scrollLeft)!=null?at:0):p,Z=(o.type==="View"||o.type==="Layer")&&((pt=o.props)!=null&&pt.scrollY)?b-((Y=o.scrollTop)!=null?Y:0):b,nt=qt(o);for(let V=nt.length-1;V>=0;V-=1){const rt=nt[V],E=gt(rt,d,i,N,Z);if(E)return E}return null},xt=(o,d)=>{const i=r.children,c=i.length<=1?i:i.map((f,p)=>{var b,I;return{child:f,index:p,zIndex:Mt((I=(b=f.props)==null?void 0:b.style)==null?void 0:I.zIndex)}}).sort((f,p)=>f.zIndex-p.zIndex||f.index-p.index).map(f=>f.child);for(let f=c.length-1;f>=0;f-=1){const p=c[f],b=gt(p,o,d,0,0);if(b)return b}return null},ct=o=>{const d=[];let i=o;for(;i;){d.push(i);const c=i.parent;i=c&&c.type!=="Root"?c:null}return d},ot=new Map,ht=new Map,bt=(o,d,i)=>Math.max(d,Math.min(o,i)),wt=(o,d)=>{var I,P,W,C;if(o.type!=="View"&&o.type!=="Layer"||!((I=o.props)!=null&&I.scrollY))return!1;const i=(P=o.scrollContentHeight)!=null?P:0,c=Math.max(0,i-o.layout.height);if(c<=0)return!1;const f=(W=o.scrollTop)!=null?W:0,p=bt(f+d,0,c);if(p===f)return!1;o.scrollTop=p;const b=(C=o.props)==null?void 0:C.onScroll;return typeof b=="function"&&b(p),!0},It=(o,d)=>{var I,P,W,C;if(o.type!=="View"&&o.type!=="Layer"||!((I=o.props)!=null&&I.scrollX))return!1;const i=(P=o.scrollContentWidth)!=null?P:0,c=Math.max(0,i-o.layout.width);if(c<=0)return!1;const f=(W=o.scrollLeft)!=null?W:0,p=bt(f+d,0,c);if(p===f)return!1;o.scrollLeft=p;const b=(C=o.props)==null?void 0:C.onScrollX;return typeof b=="function"&&b(p),!0},q=(o,d,i,c)=>{var P,W;const f=o==="pointerdown"?"onPointerDown":o==="pointermove"?"onPointerMove":o==="pointerup"?"onPointerUp":o==="pointercancel"?"onPointerCancel":"onClick";let p=!1,b=!1;const I=Ft(Tt({type:o},i),{target:c,currentTarget:null,defaultPrevented:b,stopPropagation(){p=!0},preventDefault(){b=!0,I.defaultPrevented=!0}});for(let C=d.length-1;C>=0&&!p;C-=1){const N=d[C],Z=(P=N.props)==null?void 0:P[`${f}Capture`];typeof Z=="function"&&(I.currentTarget=N,Z(I))}for(let C=0;C<d.length&&!p;C+=1){const N=d[C],Z=(W=N.props)==null?void 0:W[f];typeof Z=="function"&&(I.currentTarget=N,Z(I))}return{defaultPrevented:b}},O=(o,d)=>{var p,b,I,P,W,C,N,Z,nt,it;const{pointerId:i}=d,c=ot.get(i);if(c&&(c.type==="View"||c.type==="Layer")&&c.scrollbarDrag&&c.scrollbarDrag.pointerId===i){if(o==="pointermove"){const T=c.scrollbarDrag,L=ct(c);let _=0,A=0;for(let E=L.length-1;E>=0;E-=1){const D=L[E];_+=D.layout.x,A+=D.layout.y;const z=E>0;z&&(D.type==="View"||D.type==="Layer")&&((p=D.props)!=null&&p.scrollX)&&(_-=(b=D.scrollLeft)!=null?b:0),z&&(D.type==="View"||D.type==="Layer")&&((I=D.props)!=null&&I.scrollY)&&(A-=(P=D.scrollTop)!=null?P:0)}if(T.axis==="y"){const E=B(c,_,A);if(!E)return{defaultPrevented:!0};const D=Math.max(0,E.trackH-E.thumbH);if(D<=0)return{defaultPrevented:!0};const z=d.y-T.startPointer,ft=T.startScroll+z*(E.maxScrollTop/D),lt=Math.max(0,Math.min(ft,E.maxScrollTop));c.scrollTop=lt;const dt=(W=c.props)==null?void 0:W.onScroll;return typeof dt=="function"&&dt(lt),H(),{defaultPrevented:!0}}const U=$(c,_,A);if(!U)return{defaultPrevented:!0};const at=Math.max(0,U.trackW-U.thumbW);if(at<=0)return{defaultPrevented:!0};const pt=d.x-T.startPointer,Y=T.startScroll+pt*(U.maxScrollLeft/at),V=Math.max(0,Math.min(Y,U.maxScrollLeft));c.scrollLeft=V;const rt=(C=c.props)==null?void 0:C.onScrollX;return typeof rt=="function"&&rt(V),H(),{defaultPrevented:!0}}if(o==="pointerup"||o==="pointercancel")return c.scrollbarDrag=null,ot.delete(i),ht.delete(i),H(),{defaultPrevented:!0}}if(o==="pointerdown"){const T=xt(d.x,d.y);if(T&&(T.view.type==="View"||T.view.type==="Layer"))return T.view.scrollbarDrag={axis:T.axis,pointerId:i,startPointer:T.axis==="y"?d.y:d.x,startScroll:T.axis==="y"?(N=T.view.scrollTop)!=null?N:0:(Z=T.view.scrollLeft)!=null?Z:0},ot.set(i,T.view),{defaultPrevented:!0};const L=Q(d.x,d.y);return L?(ot.set(i,L),ht.set(i,L),q(o,ct(L),d,L)):{defaultPrevented:!1}}if(o==="pointermove"){const T=ot.get(i),L=T!=null?T:Q(d.x,d.y);if(L!==h){const _=[];let A=h;for(;A;){_.push(A);const Y=A.parent;A=Y&&Y.type!=="Root"?Y:null}const U=[];let at=L;for(;at;){U.push(at);const Y=at.parent;at=Y&&Y.type!=="Root"?Y:null}for(const Y of _)if(!U.includes(Y)){const V=(nt=Y.props)==null?void 0:nt.onPointerLeave;typeof V=="function"&&V(Ft(Tt({type:"pointerleave"},d),{target:Y,currentTarget:Y,defaultPrevented:!1,stopPropagation:()=>{},preventDefault:()=>{}}))}const pt=U.filter(Y=>!_.includes(Y)).reverse();for(const Y of pt){const V=(it=Y.props)==null?void 0:it.onPointerEnter;typeof V=="function"&&V(Ft(Tt({type:"pointerenter"},d),{target:Y,currentTarget:Y,defaultPrevented:!1,stopPropagation:()=>{},preventDefault:()=>{}}))}h=L}return L?q(o,ct(L),d,L):{defaultPrevented:!1}}if(o==="pointerup"){const T=ot.get(i),L=T!=null?T:Q(d.x,d.y);if(!L)return{defaultPrevented:!1};const _=q(o,ct(L),d,L),A=ht.get(i);if(ot.delete(i),ht.delete(i),A&&A===L&&d.button===0){const U=q("click",ct(L),d,L);return{defaultPrevented:_.defaultPrevented||U.defaultPrevented}}return _}if(o==="pointercancel"){const T=ot.get(i),L=T!=null?T:Q(d.x,d.y);if(!L)return{defaultPrevented:!1};const _=q(o,ct(L),d,L);return ot.delete(i),ht.delete(i),_}const f=Q(d.x,d.y);return f?q(o,ct(f),d,f):{defaultPrevented:!1}},G=o=>{const d=Q(o.x,o.y);if(!d)return{defaultPrevented:!1};const i=ct(d);let c=o.deltaX,f=o.deltaY,p=!1;for(let b=0;b<i.length;b+=1){const I=i[b];if(f!==0&&wt(I,f)&&(f=0,p=!0),c!==0&&It(I,c)&&(c=0,p=!0),c===0&&f===0)break}return p&&H(),{defaultPrevented:p}},K={root:r,invalidate:R,notifyCommit:l};r.container=K;const X=Ce(K);R();const j={rootId:r.debugId,getSnapshot(){const o={},d=(i,c)=>{o[i.debugId]={id:i.debugId,type:i.type,parentId:c,childrenIds:i.children.map(f=>f.debugId),layout:i.layout};for(const f of i.children)d(f,i.debugId)};for(const i of r.children)d(i,null);return{rootId:r.debugId,rootChildrenIds:r.children.map(i=>i.debugId),nodesById:o}},getNode(o){const d=m(o);return d?{id:d.debugId,type:d.type,parentId:d.parent?d.parent.debugId:null,childrenIds:d.children.map(i=>i.debugId),layout:d.layout}:null},getNodeProps(o){const d=m(o);return d?x(d.props,0,new WeakSet):null},hitTestCanvas(o,d){const i=Q(o,d);return i?i.debugId:null},hitTestClient(o,d){const{x:i,y:c}=u(o,d),f=Q(i,c);return f?f.debugId:null},setHighlight(o){var d,i;"hoverId"in o&&(s=(d=o.hoverId)!=null?d:null),"selectedId"in o&&(g=(i=o.selectedId)!=null?i:null),H()},subscribe(o){return a.add(o),()=>{a.delete(o)}}},vt=(()=>{if(typeof window=="undefined")return null;const o=window,d="__REACT_CANVAS_FIBER_DEVTOOLS__";o[d]||(o[d]={version:1,nextRootInstanceId:1,roots:new Map,picker:{enabled:!1,rootInstanceId:null,hoverId:null,selectedId:null},pickerCleanup:null,listRoots(){const p=[];for(const b of this.roots.values()){const I=b.canvas.getBoundingClientRect();p.push({id:b.id,rect:{left:I.left,top:I.top,width:I.width,height:I.height},options:b.options,revision:b.revision})}return p},getRootDevtools(p){var b,I;return(I=(b=this.roots.get(p))==null?void 0:b.devtools)!=null?I:null},getSnapshot(p){var b,I,P;return(P=(I=(b=this.getRootDevtools(p))==null?void 0:b.getSnapshot)==null?void 0:I.call(b))!=null?P:null},getNodeProps(p,b){var I,P,W;return(W=(P=(I=this.getRootDevtools(p))==null?void 0:I.getNodeProps)==null?void 0:P.call(I,b))!=null?W:null},setHighlight(p,b){var I,P;(P=(I=this.getRootDevtools(p))==null?void 0:I.setHighlight)==null||P.call(I,b)},startPicker(p){this.stopPicker();const b=this.roots.get(p);if(!b)return!1;this.picker.enabled=!0,this.picker.rootInstanceId=p,this.picker.hoverId=null,this.picker.selectedId=null;const I=C=>{if(!this.picker.enabled)return;if(C.target!==b.canvas){this.picker.hoverId!=null&&(this.picker.hoverId=null,b.devtools.setHighlight({hoverId:null}));return}const N=b.devtools.hitTestClient(C.clientX,C.clientY);N!==this.picker.hoverId&&(this.picker.hoverId=N,b.devtools.setHighlight({hoverId:N,selectedId:this.picker.selectedId}))},P=C=>{if(!this.picker.enabled||C.target!==b.canvas||C.button!==0)return;const N=b.devtools.hitTestClient(C.clientX,C.clientY);this.picker.selectedId=N,b.devtools.setHighlight({hoverId:null,selectedId:N}),C.preventDefault(),C.stopPropagation(),this.stopPicker()},W=C=>{C.key==="Escape"&&this.stopPicker()};return window.addEventListener("pointermove",I,!0),window.addEventListener("pointerdown",P,!0),window.addEventListener("keydown",W,!0),this.pickerCleanup=()=>{window.removeEventListener("pointermove",I,!0),window.removeEventListener("pointerdown",P,!0),window.removeEventListener("keydown",W,!0),b.devtools.setHighlight({hoverId:null})},!0},stopPicker(){var p;this.picker.enabled&&(this.picker.enabled=!1,this.picker.hoverId=null,(p=this.pickerCleanup)==null||p.call(this),this.pickerCleanup=null)},getPickerState(){return Tt({},this.picker)},unregisterRoot(p){var I;const b=this.roots.get(p);b&&(this.picker.rootInstanceId===p&&(this.picker.enabled&&this.stopPicker(),this.picker.rootInstanceId=null,this.picker.hoverId=null,this.picker.selectedId=null),(I=b.unsubscribe)==null||I.call(b),this.roots.delete(p))}});const i=o[d],c=i.nextRootInstanceId++,f={id:c,canvas:t,options:{width:e.width,height:e.height,dpr:e.dpr},devtools:j,revision:0,unsubscribe:null};return f.unsubscribe=j.subscribe(()=>{f.revision+=1}),i.roots.set(c,f),c})();return{render(o){X.render(o)},unmount(){var o,d;X.unmount(),typeof window!="undefined"&&vt!=null&&((d=(o=window.__REACT_CANVAS_FIBER_DEVTOOLS__)==null?void 0:o.unregisterRoot)==null||d.call(o,vt))},dispatchPointerEvent:O,dispatchWheelEvent:G,__devtools:j}}function Le(t){var h;const e=(0,tt.useRef)(null),n=(0,tt.useRef)(null),r=(h=t.dpr)!=null?h:1,a=(0,tt.useMemo)(()=>Tt({width:t.width,height:t.height,display:"block",touchAction:"none"},t.style),[t.width,t.height,t.style]),l=(0,tt.useCallback)((u,m)=>{var H,B,$;const w=e.current,y=n.current;if(!w||!y)return;const x=w.getBoundingClientRect(),v=x.width?t.width/x.width:1,S=x.height?t.height/x.height:1,M=(m.clientX-x.left)*v,k=(m.clientY-x.top)*S,R=y.dispatchPointerEvent(u,{x:M,y:k,pointerId:(H=m.pointerId)!=null?H:0,button:(B=m.button)!=null?B:0,buttons:($=m.buttons)!=null?$:0,altKey:!!m.altKey,ctrlKey:!!m.ctrlKey,shiftKey:!!m.shiftKey,metaKey:!!m.metaKey});R!=null&&R.defaultPrevented&&typeof m.preventDefault=="function"&&m.preventDefault()},[t.width,t.height]),s=(0,tt.useCallback)(u=>{var $,Q;const m=e.current,w=n.current;if(!m||!w)return;const y=m.getBoundingClientRect(),x=y.width?t.width/y.width:1,v=y.height?t.height/y.height:1;let S=($=u.deltaX)!=null?$:0,M=(Q=u.deltaY)!=null?Q:0;u.deltaMode===1?(S*=16,M*=16):u.deltaMode===2&&(S*=t.width,M*=t.height);const k=(u.clientX-y.left)*x,R=(u.clientY-y.top)*v,H={x:k,y:R,deltaX:S*x,deltaY:M*v,altKey:!!u.altKey,ctrlKey:!!u.ctrlKey,shiftKey:!!u.shiftKey,metaKey:!!u.metaKey},B=w.dispatchWheelEvent(H);B!=null&&B.defaultPrevented&&typeof u.preventDefault=="function"&&u.preventDefault()},[t.width,t.height]),g=(0,tt.useCallback)(u=>{const m=e.current;if(m&&typeof m.setPointerCapture=="function")try{m.setPointerCapture(u.pointerId)}catch(w){}l("pointerdown",u)},[l]);return(0,tt.useLayoutEffect)(()=>{const u=e.current;if(!u)return;const m=w=>{s(w)};return u.addEventListener("wheel",m,{passive:!1}),()=>{u.removeEventListener("wheel",m)}},[s]),(0,tt.useLayoutEffect)(()=>{const u=e.current;if(u)return n.current=We(u,{width:t.width,height:t.height,dpr:r,clearColor:t.clearColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontWeight:t.fontWeight,lineHeight:t.lineHeight}),()=>{var m;(m=n.current)==null||m.unmount(),n.current=null}},[t.width,t.height,t.clearColor,t.fontFamily,t.fontSize,t.fontWeight,t.lineHeight,r]),(0,tt.useLayoutEffect)(()=>{var u,m;(m=n.current)==null||m.render((u=t.children)!=null?u:null)},[t.children]),(0,Et.jsx)("canvas",{ref:e,style:a,width:Math.floor(t.width*r),height:Math.floor(t.height*r),onPointerDown:g,onPointerMove:u=>l("pointermove",u),onPointerUp:u=>l("pointerup",u),onPointerCancel:u=>l("pointercancel",u)})}function Re(t){return(0,tt.createElement)("View",t)}function He(t){return(0,tt.createElement)("Group",t)}function Ne(t){return(0,tt.createElement)("Layer",t)}function Fe(t){return(0,tt.createElement)("Rect",t)}function Xe(t){return(0,tt.createElement)("Circle",t)}function Ee(t){return(0,tt.createElement)("Path",t)}function Be(t){return(0,tt.createElement)("Line",t)}function De(t){return(0,tt.createElement)("Text",t)}function Ye(t){return(0,tt.createElement)("Image",t)}}}]);
}());